<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>üíå From Jo</title>

<style>
:root{
  --bg1:#fff0f6;
  --bg2:#ffe3ef;
  --pink1:#ffb6c1;
  --pink2:#ff69b4;
  --pink3:#ff4d88;
  --txt:#6f153d;
  --card:rgba(255,255,255,.84);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--txt);
  overflow:hidden;
  background:
    radial-gradient(circle at 18% 18%, #ffe3ef 0%, var(--bg1) 48%, #ffe9f2 100%);
}

/* dreamy haze */
.haze{
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(circle at 18% 30%, rgba(255,105,180,.22), transparent 55%),
    radial-gradient(circle at 82% 22%, rgba(255,77,136,.14), transparent 60%),
    radial-gradient(circle at 55% 85%, rgba(255,182,193,.20), transparent 60%),
    linear-gradient(to bottom, rgba(255,240,246,.45), rgba(255,240,246,.58));
  z-index:1;
}

/* hearts */
.hearts{ position:fixed; inset:0; z-index:2; pointer-events:none; }
.heart{
  position:absolute;
  opacity:.62;
  animation:floatUp linear forwards;
  filter: drop-shadow(0 8px 10px rgba(0,0,0,.16));
}
@keyframes floatUp{
  from{ transform:translateY(40px) scale(1); opacity:0; }
  10%{ opacity:.62; }
  to{ transform:translateY(-120vh) scale(1.18); opacity:0; }
}

/* layout */
.wrap{
  position:relative;
  z-index:3;
  height:100%;
  display:grid;
  place-items:center;
  padding:24px;
}
.card{
  width:min(610px, 92vw);
  background:var(--card);
  border:1px solid #ffd0e1;
  border-radius:22px;
  box-shadow: 0 18px 45px rgba(0,0,0,.16);
  padding:28px 22px 22px;
  text-align:center;
  backdrop-filter: blur(10px);
}
h1{
  margin:0 0 8px;
  color:var(--pink3);
  font-size: clamp(22px, 4vw, 34px);
}
.sub{
  margin:6px 0 16px;
  opacity:.92;
  line-height:1.35;
  font-size: clamp(15px, 2.6vw, 17px);
}

/* envelope */
.envelope{
  margin:14px auto 8px;
  width:min(330px, 86vw);
  height:206px;
  position:relative;
  cursor:pointer;
  transition: transform .18s ease;
}
.envelope:hover{ transform: translateY(-2px); }

.env-body{
  position:absolute;
  inset:0;
  background:var(--pink1);
  border-radius:18px;
  border:1px solid #ff8fb5;
  box-shadow:0 14px 28px rgba(0,0,0,.16);
}
.flap{
  position:absolute;
  width:0;height:0;
  border-left:165px solid transparent;
  border-right:165px solid transparent;
  border-top:104px solid var(--pink2);
  top:0; left:0;
  transform-origin:top;
  transition:transform .6s cubic-bezier(.2,.9,.2,1);
  filter: drop-shadow(0 10px 12px rgba(0,0,0,.14));
}
.letter{
  position:absolute;
  left:12px; right:12px;
  bottom:12px;
  height:160px;
  background:white;
  border-radius:16px;
  border:1px solid #ffd0e1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  gap:8px;
  transform:translateY(88px);
  transition:transform .6s cubic-bezier(.2,.9,.2,1);
}
.msg{
  font-weight:900;
  font-size:17px;
  color:#a01957;
}
.small{
  font-size:13px;
  opacity:.86;
  font-weight:650;
}
.open .flap{ transform: rotateX(180deg); }
.open .letter{ transform: translateY(0); }

/* buttons */
#buttonArea{
  position:relative;
  height:84px;
  margin-top:12px;
  display:grid;
  place-items:center;
}
button{
  border:none;
  padding:12px 18px;
  border-radius:999px;
  font-size:16px;
  font-weight:900;
  cursor:pointer;
  box-shadow: 0 12px 18px rgba(0,0,0,.14);
  transition: transform .12s ease;
}
button:active{ transform: scale(.98); }
.yes{ background:var(--pink3); color:white; }
.no{
  background:#ffd0e1;
  color:#5a0f32;
  position:absolute;
  left:62%;
  top:50%;
  transform: translate(-50%, -50%);
  max-width: 170px;
  white-space: nowrap;
}

/* tiny footer */
.footer{
  margin-top:10px;
  font-size:12.5px;
  opacity:.85;
}
.footer b{ color:#b01259; }

/* result overlay */
.result{
  position:fixed;
  inset:0;
  z-index:7;
  display:none;
  place-items:center;
  padding:24px;
  background: rgba(255,240,246,.78);
  backdrop-filter: blur(10px);
}
.result .box{
  width:min(560px, 92vw);
  background:white;
  border-radius:22px;
  border:1px solid #ffd0e1;
  box-shadow: 0 18px 45px rgba(0,0,0,.18);
  padding:22px;
  text-align:center;
}
.result h2{
  margin:0 0 8px;
  color:var(--pink3);
  font-size: clamp(22px, 4vw, 30px);
}

/* confetti */
canvas{
  position:fixed;
  inset:0;
  z-index:6;
  pointer-events:none;
  display:none;
}
</style>
</head>

<body>
<div class="haze" aria-hidden="true"></div>
<div class="hearts" id="hearts" aria-hidden="true"></div>

<div class="wrap">
  <div class="card">
    <h1>hi babe üíó</h1>
    <div class="sub">
      i made you something small and cute because you‚Äôre my favorite person.<br>
      open the envelope üëá
    </div>

    <div class="envelope" id="envelope" role="button" tabindex="0" aria-label="Open envelope">
      <div class="env-body"></div>
      <div class="letter">
        <div class="msg">will you be my valentine? üíï</div>
        <div class="small">‚Äî jo (your wife üòå)</div>
      </div>
      <div class="flap"></div>
    </div>

    <div class="sub" style="margin-top:10px;">
      pick your answer‚Ä¶ carefully üòå
    </div>

    <div id="buttonArea">
      <button class="yes" id="yesBtn">YES üíó</button>
      <button class="no" id="noBtn">NO üòè</button>
    </div>

    <div class="footer">
      <span>built with love + a tiny bit of chaos. <b>#alexcoded</b></span>
    </div>
  </div>
</div>

<div class="result" id="result">
  <div class="box">
    <h2>OKAYYY PERIODDDD üíñ</h2>
    <p>you just secured the cutest valentine ever ü•∞</p>
    <p><b>i love you pookie üíñ</p>
  </div>
</div>

<canvas id="confetti"></canvas>

<script>
/* Envelope */
const envelope = document.getElementById("envelope");
envelope.addEventListener("click", () => envelope.classList.toggle("open"));
envelope.addEventListener("keydown", (e)=>{
  if(e.key==="Enter" || e.key===" ") envelope.classList.toggle("open");
});

/* Hearts */
const heartsLayer = document.getElementById("hearts");
const heartChars = ["üíñ","üíó","üíï","üíò","üíû"];
setInterval(()=>{
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
  h.style.left = (Math.random()*100) + "vw";
  h.style.bottom = "-40px";
  h.style.fontSize = (14 + Math.random()*18) + "px";
  const dur = 6 + Math.random()*6;
  h.style.animationDuration = dur + "s";
  heartsLayer.appendChild(h);
  setTimeout(()=>h.remove(), dur*1000);
}, 450);

/* NO button: sass + run away */
const noBtn = document.getElementById("noBtn");
const area = document.getElementById("buttonArea");

const noPhrases = [
  "NO üòè",
  "okay BYE üòå",
  "try again lol",
  "be serious üíÄ",
  "nice try üò≠",
  "access denied",
  "ok but‚Ä¶ no",
  "that‚Äôs illegal",
  "babe‚Ä¶ pls",
  "YES is right there ‚Üí"
];
let noCount = 0;

function moveNo(){
  noCount++;
  noBtn.textContent = noPhrases[Math.min(noCount, noPhrases.length-1)];

  const pad = 10;
  const maxX = area.clientWidth - noBtn.offsetWidth - pad*2;
  const maxY = area.clientHeight - noBtn.offsetHeight - pad*2;

  const x = pad + Math.random() * Math.max(0, maxX);
  const y = pad + Math.random() * Math.max(0, maxY);

  noBtn.style.left = (x + noBtn.offsetWidth/2) + "px";
  noBtn.style.top  = (y + noBtn.offsetHeight/2) + "px";
  noBtn.style.transform = "translate(-50%, -50%)";
}
noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("pointerdown", moveNo);
noBtn.addEventListener("click", (e)=>{ e.preventDefault(); celebrateYes(); });

/* Confetti */
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

function confettiBurst(ms=2200){
  canvas.style.display="block";
  const colors = ["#ff4d88","#ff69b4","#ffb6c1","#ffd0e1","#ffffff"];
  let parts = Array.from({length:240},()=>({
    x: Math.random()*canvas.width,
    y: -20 - Math.random()*canvas.height*0.2,
    w: 6 + Math.random()*6,
    h: 8 + Math.random()*10,
    vx: -2 + Math.random()*4,
    vy: 2 + Math.random()*5,
    rot: Math.random()*Math.PI,
    vr: -0.15 + Math.random()*0.3,
    c: colors[Math.floor(Math.random()*colors.length)],
    a: 0.95
  }));

  const start = performance.now();
  function frame(t){
    const elapsed = t - start;
    ctx.clearRect(0,0,canvas.width,canvas.height);

    parts.forEach(p=>{
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.03;
      p.rot += p.vr;
      p.a *= 0.995;

      ctx.save();
      ctx.globalAlpha = p.a;
      ctx.translate(p.x,p.y);
      ctx.rotate(p.rot);
      ctx.fillStyle = p.c;
      ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
      ctx.restore();
    });

    parts = parts.filter(p => p.a > 0.08 && p.y < canvas.height+80);

    if(elapsed < ms) requestAnimationFrame(frame);
    else {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      canvas.style.display="none";
    }
  }
  requestAnimationFrame(frame);
}

/* YES flow */
const result = document.getElementById("result");
function celebrateYes(){
  if(!envelope.classList.contains("open")) envelope.classList.add("open");
  confettiBurst();
  result.style.display="grid";
  setTimeout(()=> result.style.display="none", 4200);
}
document.getElementById("yesBtn").addEventListener("click", celebrateYes);
</script>
</body>
</html>
